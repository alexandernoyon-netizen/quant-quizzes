<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>QUANT ‚Äì Sitzung 21: Nichtparametrische Verfahren (Interaktives Quiz)</title>

<style>
  :root{
    --bg:#0b1220; --card:#121826; --muted:#9aa4b2; --text:#eef2f7;
    --accent:#7dd3fc; --ok:#34d399; --bad:#f87171; --btn:#38bdf8;
  }
  html,body{height:100%}
  body{margin:0;background:linear-gradient(135deg,#0b1220 0%,#0f172a 100%);color:var(--text);
       font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
       display:flex;align-items:center;justify-content:center;padding:24px}
  .shell{width:100%;max-width:940px}
  header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px;gap:16px}
  h1{font-size:20px;margin:0}
  .progress{height:10px;background:#1f2937;border-radius:999px;overflow:hidden}
  .progress span{display:block;height:10px;background:linear-gradient(90deg,#38bdf8,#60a5fa);width:0%}
  .card{background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,.02));
        border:1px solid #1f2937;border-radius:18px;padding:20px;box-shadow:0 10px 40px rgba(2,6,23,.4)}
  .title{font-weight:800;font-size:18px;margin-bottom:6px;display:flex;align-items:center;gap:10px}
  .subtitle{color:var(--muted);margin-bottom:14px}
  .opt{display:flex;gap:10px;align-items:center;margin:10px 0;padding:12px;border:1px solid #1f2937;border-radius:12px;cursor:pointer}
  .opt input{margin:0}
  .opt.correct{border-color:#065f46;background:rgba(16,185,129,.12)}
  .opt.incorrect{border-color:#7f1d1d;background:rgba(239,68,68,.10)}
  .btns{display:flex;gap:10px;justify-content:flex-end;margin-top:16px}
  button{background:var(--btn);color:#0b1220;border:none;border-radius:10px;padding:10px 14px;font-weight:700;cursor:pointer}
  button.secondary{background:#1f2937;color:var(--text)}
  button[disabled]{opacity:.4;cursor:not-allowed}
  .fb{margin-top:10px;font-size:14px}
  .ok{color:var(--ok)} .bad{color:var(--bad)}
  .muted{color:var(--muted)}
  .badge{display:inline-block;font-size:12px;font-weight:800;letter-spacing:.04em;
         padding:2px 8px;border-radius:999px;border:1px solid #334155;color:var(--accent);
         background:rgba(125,211,252,.10)}
  .hint{margin-top:8px;color:var(--muted);font-size:13px}
  .hint b{color:var(--accent)}
  details{margin-top:6px}
  details summary{cursor:pointer}
  code{color:var(--accent)}
</style>
</head>

<body>
<div class="shell">
  <header>
    <div>
      <h1>QUANT ‚Äì Sitzung 21: Nichtparametrische Verfahren</h1>
      <div class="muted" id="meta">Punkte: <b id="points">0</b> / <b id="maxpoints">0</b> ‚Ä¢ Aufgabe <b id="idx">1</b>/<b id="total">0</b></div>
      <details>
        <summary>Info</summary>
        <div class="muted">
          Step-by-step Quiz zur Sitzung 21 (Nichtparametrische Verfahren).
          Scoring: <b>+1</b> pro richtige Antwort, <b>+0</b> bei falscher Antwort.
          Transferfragen sind mit <span class="badge">üß† TRANSFER</span> markiert.
        </div>
      </details>
    </div>
    <div style="min-width:280px">
      <div class="progress"><span id="bar"></span></div>
      <div style="margin-top:8px;display:flex;gap:8px;justify-content:flex-end;flex-wrap:wrap">
        <button id="resetBtn" class="secondary" title="Fortschritt l√∂schen und neu starten">Neu starten</button>
      </div>
      <div class="muted" style="text-align:right;margin-top:6px">
        Key: <code id="lskey"></code>
      </div>
    </div>
  </header>

  <div class="card">
    <div class="title" id="title"></div>
    <div class="subtitle" id="question"></div>
    <div id="options"></div>
    <div class="fb" id="feedback"></div>
    <div class="hint" id="hint" style="display:none"></div>
    <div class="btns">
      <button class="secondary" id="prevBtn">Zur√ºck</button>
      <button id="nextBtn" disabled>Weiter</button>
    </div>
  </div>
</div>

<script>
// ================== CONFIG ==================
const TEMPLATE_VERSION = "v4-simple";
const COURSE_TAG = "QUANT2";
const SESSION_TAG = "S21";
// ============================================

// =============== ITEMS ===============
// Hinweis (f√ºr uns): correct = Index der richtigen Antwort (0-basiert!)
const items = [
  {
    id:"np-standard-vs-fallback",
    type:"mc",
    title:"Einordnung",
    question:"Welche Aussage trifft am besten zu?",
    options:[
      "Nichtparametrische Tests sind grunds√§tzlich besser als parametrische.",
      "Nichtparametrische Tests sind ein neues statistisches Paradigma.",
      "Parametrische Verfahren sind Standard; nichtparametrische sind eine robuste Fallback-Option.",
      "Nichtparametrische Verfahren ersetzen Regression und ANOVA."
    ],
    correct:2,
    feedback:[
      "Nein. Es geht nicht um ‚Äûbesser‚Äú, sondern um Passung zu Daten/Annahmen.",
      "Nein. Sie sind keine neue Statistik, sondern Alternativen mit anderen Annahmen.",
      "Richtig. Parametrisch ist Standard; nichtparametrisch ist oft eine robuste Alternative, wenn Annahmen problematisch sind.",
      "Nein. Sie erg√§nzen, ersetzen aber nicht grunds√§tzlich die parametrischen Modellfamilien."
    ],
    transfer:false
  },
  {
    id:"np-when-consider",
    type:"mc",
    title:"Wann nachdenken?",
    question:"Welche Situation ist typisch ein Anlass, √ºber nichtparametrische Alternativen nachzudenken?",
    options:[
      "Sehr gro√üe Stichprobe (n > 3000)",
      "Deutliche Schiefe / extreme Normalit√§tsabweichung",
      "Perfekte Varianzhomogenit√§t",
      "Sehr hohe Power"
    ],
    correct:1,
    feedback:[
      "Nein. Gro√üe n macht parametrische Verfahren oft eher stabil (je nach Kontext).",
      "Richtig. Bei starker Schiefe/Ausrei√üern/Verteilungsproblemen kann nichtparametrisch sinnvoll sein.",
      "Nein. Wenn die Annahmen gut erf√ºllt sind, spricht wenig gegen parametrische Verfahren.",
      "Nein. Hohe Power ist kein Grund, das Verfahren zu wechseln."
    ],
    transfer:false
  },
  {
    id:"np-rank-core",
    type:"mc",
    title:"Grundidee",
    question:"Was ist der Kerntrick vieler nichtparametrischer Tests?",
    options:[
      "Rohwerte werden z-standardisiert.",
      "Rohwerte werden in R√§nge umgewandelt.",
      "Kategorien werden dummy-codiert.",
      "Mittelwerte werden quadriert."
    ],
    correct:1,
    feedback:[
      "Nein. Standardisierung ist etwas anderes als Rangbildung.",
      "Richtig. Viele nichtparametrische Tests arbeiten mit R√§ngen statt mit Rohwerten.",
      "Nein. Dummy-Codierung betrifft kategoriale Pr√§diktoren in Regression/ANOVA-Kontexten.",
      "Nein. Das w√§re keine typische Strategie nichtparametrischer Tests."
    ],
    transfer:false
  },
  {
    id:"np-assumptions",
    type:"mc",
    title:"Annahmen",
    question:"Welche Aussage passt zu nichtparametrischen Tests (im Vergleich zu vielen parametrischen)?",
    options:[
      "Normalverteilung ist zwingend n√∂tig.",
      "Varianzhomogenit√§t ist zwingend n√∂tig.",
      "Weniger starke Verteilungsannahmen, oft keine Normalverteilung n√∂tig.",
      "Sie ben√∂tigen gr√∂√üere Stichproben als parametrische."
    ],
    correct:2,
    feedback:[
      "Nein. Viele nichtparametrische Tests kommen ohne Normalverteilungsannahme aus.",
      "Nein. Varianzhomogenit√§t ist nicht das zentrale Kriterium vieler nichtparametrischer Tests.",
      "Richtig. Sie sind h√§ufig robuster gegen√ºber Verteilungsproblemen.",
      "Nein. Das ist nicht grunds√§tzlich so; es h√§ngt von Ziel, Effekt, Datenlage ab."
    ],
    transfer:false
  },
  {
    id:"np-tradeoff-power",
    type:"mc",
    title:"Preis der Robustheit",
    question:"Was ist ein typischer Nachteil nichtparametrischer Tests?",
    options:[
      "Sie erh√∂hen die Power.",
      "Sie senken die Power ‚Üí h√∂heres Risiko f√ºr Œ≤-Fehler.",
      "Sie machen p-Werte automatisch kleiner.",
      "Sie sind nur f√ºr Experimente zul√§ssig."
    ],
    correct:1,
    feedback:[
      "Nein. Typischerweise ist es eher umgekehrt (bei gleichen Voraussetzungen).",
      "Richtig. Robustheit kann mit geringerer Power einhergehen (nicht immer, aber oft).",
      "Nein. p-Werte werden nicht ‚Äûautomatisch‚Äú kleiner oder gr√∂√üer.",
      "Nein. Nichtparametrische Tests sind nicht auf Experimente beschr√§nkt."
    ],
    transfer:false
  },
  {
    id:"np-spirit",
    type:"mc",
    title:"Haltung",
    question:"Welcher Satz trifft den ‚ÄûSpirit‚Äú der Sitzung am besten?",
    options:[
      "Nichtparametrische Tests sind die fortgeschrittene Variante.",
      "Nichtparametrische Tests sind eine robuste Notl√∂sung, nicht die bessere Statistik.",
      "Wer nichtparametrisch testet, zeigt besondere wissenschaftliche Strenge.",
      "Nichtparametrisch ist Pflicht, wenn p < .05 schwer erreichbar ist."
    ],
    correct:1,
    feedback:[
      "Nein. ‚ÄûFortgeschritten‚Äú ist kein valider Qualit√§tsmarker ‚Äì es geht um Passung.",
      "Richtig. Nichtparametrisch ist sinnvoll, wenn Annahmen/Datensituation es nahelegen ‚Äì nicht als genereller Ersatz.",
      "Nein. Das w√§re ein Status-Argument; entscheidend ist die methodische Begr√ºndung.",
      "Nein. Tests sind keine p-Wert-Optimierung; Vorgehen muss inhaltlich/methodisch begr√ºndet sein."
    ],
    transfer:false
  },
  {
    id:"np-independent-two-groups",
    type:"mc",
    title:"Testwahl: zwei unabh√§ngige Gruppen",
    question:"Welcher Test ist das nichtparametrische Pendant zum t-Test f√ºr unabh√§ngige Stichproben?",
    options:[
      "Wilcoxon-Test",
      "Kruskal‚ÄìWallis-Test",
      "Mann‚ÄìWhitney-U-Test",
      "Friedman-Test"
    ],
    correct:2,
    feedback:[
      "Nein. Wilcoxon ist typischerweise f√ºr gepaarte/abh√§ngige Stichproben (2 Bedingungen).",
      "Nein. Kruskal‚ÄìWallis ist f√ºr mehr als zwei unabh√§ngige Gruppen.",
      "Richtig. Mann‚ÄìWhitney U vergleicht zwei unabh√§ngige Gruppen (auf Basis von R√§ngen).",
      "Nein. Friedman ist f√ºr mehr als zwei abh√§ngige Messungen."
    ],
    transfer:false
  },
  {
    id:"np-paired-two",
    type:"mc",
    title:"Testwahl: gepaarte Messungen",
    question:"Welcher Test passt zu abh√§ngigen Stichproben / Messwiederholung mit zwei Zeitpunkten?",
    options:[
      "Mann‚ÄìWhitney-U-Test",
      "Wilcoxon-Test",
      "Kruskal‚ÄìWallis-Test",
      "Chi-Quadrat-Test"
    ],
    correct:1,
    feedback:[
      "Nein. Mann‚ÄìWhitney ist f√ºr zwei unabh√§ngige Gruppen.",
      "Richtig. Wilcoxon (Signed-Rank) ist typisch f√ºr zwei abh√§ngige Messungen.",
      "Nein. Kruskal‚ÄìWallis ist f√ºr mehr als zwei unabh√§ngige Gruppen.",
      "Nein. Chi-Quadrat passt zu kategorialen H√§ufigkeiten/Tabellen."
    ],
    transfer:false
  },
  {
    id:"np-anova-oneway",
    type:"mc",
    title:"Testwahl: mehr als zwei unabh√§ngige Gruppen",
    question:"Welcher Test ist das nichtparametrische Pendant zur einfaktoriellen ANOVA (mehr als zwei unabh√§ngige Gruppen)?",
    options:[
      "Friedman-Test",
      "Kruskal‚ÄìWallis-Test",
      "Wilcoxon-Test",
      "Pearson-Korrelation"
    ],
    correct:1,
    feedback:[
      "Nein. Friedman ist f√ºr mehr als zwei abh√§ngige Bedingungen.",
      "Richtig. Kruskal‚ÄìWallis ist der Rangtest f√ºr k unabh√§ngige Gruppen.",
      "Nein. Wilcoxon ist f√ºr zwei abh√§ngige Bedingungen.",
      "Nein. Korrelation ist ein Zusammenhangsma√ü, kein Gruppenvergleich."
    ],
    transfer:false
  },
  {
    id:"np-repeated-more-than-two",
    type:"mc",
    title:"Testwahl: mehr als zwei abh√§ngige Messungen",
    question:"Wie hei√üt das nichtparametrische Pendant, wenn man mehr als zwei abh√§ngige Messzeitpunkte/Bedingungen vergleicht?",
    options:[
      "Friedman-Test",
      "Kruskal‚ÄìWallis-Test",
      "Mann‚ÄìWhitney-U-Test",
      "Levene-Test"
    ],
    correct:0,
    feedback:[
      "Richtig. Friedman ist das Pendant zur RM-ANOVA (mehr als zwei abh√§ngige Bedingungen) auf Rangbasis.",
      "Nein. Kruskal‚ÄìWallis ist f√ºr unabh√§ngige Gruppen.",
      "Nein. Mann‚ÄìWhitney ist f√ºr zwei unabh√§ngige Gruppen.",
      "Nein. Levene testet Varianzhomogenit√§t."
    ],
    transfer:false
  },
  {
    id:"jamovi-where-np",
    type:"mc",
    title:"Jamovi ‚Äì Umsetzung",
    question:"Wie findet man nichtparametrische Alternativen in Jamovi typischerweise?",
    options:[
      "Nur √ºber ein eigenes Men√º ‚ÄûNonparametrics‚Äú",
      "Direkt innerhalb der parametrischen Analyse (z. B. t-Test ‚Üí Option ‚ÄûMann-Whitney U‚Äú anhaken)",
      "Nur √ºber manuelle Rang-Transformation im Daten-Tab",
      "Nur √ºber R-Plugins"
    ],
    correct:1,
    feedback:[
      "Nein. Jamovi bietet h√§ufig Optionen direkt in den jeweiligen Analysen.",
      "Richtig. Oft sind nichtparametrische Alternativen als Option in der Analyse integriert.",
      "Nein. Manuelle Rangbildung ist m√∂glich, aber nicht der Standardweg in Jamovi.",
      "Nein. Daf√ºr braucht man keine Plugins."
    ],
    transfer:false
  },
  {
    id:"np-interpretation-level",
    type:"mc",
    title:"Interpretationsebene",
    question:"Was unterscheidet viele nichtparametrische Tests inhaltlich von ihren parametrischen Pendants?",
    options:[
      "Sie vergleichen Mittelwerte genauso wie t-Tests und ANOVA.",
      "Sie vergleichen Varianzen statt Mittelwerte.",
      "Sie basieren auf Rangunterschieden statt auf Mittelwertsdifferenzen.",
      "Sie liefern keine Signifikanztests."
    ],
    correct:2,
    feedback:[
      "Nein. Viele nichtparametrische Tests zielen nicht prim√§r auf Mittelwerte in Rohwert-Einheiten.",
      "Nein. Das ist nicht die typische Zielgr√∂√üe dieser Tests.",
      "Richtig. Rangbasierte Tests pr√ºfen Unterschiede in der Rangverteilung (oft als Lage-/Stochastik-Unterschied interpretiert).",
      "Nein. Sie liefern ganz normal Inferenztests (p-Werte etc.)."
    ],
    transfer:false
  },
  {
    id:"levene-then-what",
    type:"mc",
    title:"Entscheidungslogik: Levene-Test signifikant",
    question:"In einer einfaktoriellen ANOVA ist der Levene-Test signifikant (Varianzen ungleich). Wie reagierst du im Sinne der Sitzung am ehesten korrekt?",
    options:[
      "Sofort Kruskal‚ÄìWallis rechnen, ohne weitere Pr√ºfung.",
      "Analyse abbrechen.",
      "Pr√ºfen, wie stark die Varianzverletzung ist und ggf. robuste Alternativen (z. B. Welch-ANOVA) in Betracht ziehen ‚Äì nicht automatisch nichtparametrisch wechseln.",
      "Alle Gruppen gleich gro√ü machen, indem F√§lle gel√∂scht werden."
    ],
    correct:2,
    feedback:[
      "Nein. Ein Automatismus ist methodisch unsauber; erst pr√ºfen/abw√§gen.",
      "Nein. Man muss nicht abbrechen ‚Äì es gibt robuste Alternativen/Strategien.",
      "Richtig. Varianzverletzung ‚â† Pflicht zu nichtparametrisch; robuste Varianten (z. B. Welch) k√∂nnen passend sein.",
      "Nein. ‚ÄûDaten passend machen‚Äú durch L√∂schen ist in der Regel keine gute Strategie."
    ],
    transfer:false
  },
  {
    id:"transfer-likert-big-n",
    type:"mc",
    title:"Transfer: Likert, Schiefe, gro√üe Stichprobe",
    question:"Du hast eine sehr gro√üe Stichprobe und eine Likert-Skala als AV, die sichtbar schief ist. Was ist die pragmatischste Aussage im Sinne der Sitzung?",
    options:[
      "Nichtparametrisch ist zwingend, weil Likert nie parametrisch geht.",
      "Parametrische Verfahren sind bei gro√üer Stichprobe oft stabil; nichtparametrisch ist eher f√ºr Ausnahmef√§lle ‚Äì Entscheidung begr√ºnden.",
      "Man darf dann gar keinen Test rechnen.",
      "Man muss automatisch alle Werte runden und dann Chi-Quadrat rechnen."
    ],
    correct:1,
    feedback:[
      "Nein. Das ist zu absolut; es h√§ngt vom Messniveau, Modell, Ziel und der Robustheit ab.",
      "Richtig. Bei gro√üem n sind parametrische Verfahren oft robust; nichtparametrisch ist kein Automatismus ‚Äì Begr√ºndung z√§hlt.",
      "Nein. Man kann sehr wohl testen ‚Äì ggf. mit passenden (robusten) Verfahren.",
      "Nein. Das ist weder Standard noch methodisch zwingend."
    ],
    transfer:true,
    hint:"<b>Tipp:</b> Nichtparametrisch ist kein Muss und kein Bonus. Entscheidend ist die saubere Begr√ºndung (Datensituation, Annahmen, Fragestellung)."
  }
];

// Totals
const TOTAL_ITEMS = items.length;

// Storage key
const LS_KEY = `quiz_state_${COURSE_TAG}_${SESSION_TAG}_${TEMPLATE_VERSION}`;
document.getElementById("lskey").textContent = LS_KEY;

// State
let state = JSON.parse(localStorage.getItem(LS_KEY) || "{}");
if(!state.idx && state.idx!==0){ state = { idx:0, points:0, done:{} }; }

function save(){ localStorage.setItem(LS_KEY, JSON.stringify(state)); }

function setBar(){
  const pct = Math.round((state.idx)/TOTAL_ITEMS*100);
  document.getElementById("bar").style.width = pct+"%";
  document.getElementById("points").textContent = state.points;
  document.getElementById("maxpoints").textContent = TOTAL_ITEMS;
  document.getElementById("idx").textContent = Math.min(state.idx+1, TOTAL_ITEMS);
  document.getElementById("total").textContent = TOTAL_ITEMS;
}

function render(){
  const it = items[state.idx];

  document.getElementById("title").innerHTML =
    `${state.idx+1}. ${it.title} ${it.transfer ? '<span class="badge" title="Transferfrage: neues Problem auf Basis des Gelernten">üß† TRANSFER</span>' : ""}`;

  document.getElementById("question").innerHTML = it.question;

  const wrap = document.getElementById("options");
  wrap.innerHTML = "";

  const fb = document.getElementById("feedback");
  fb.textContent=""; fb.className="fb";

  const hint = document.getElementById("hint");
  hint.style.display="none";
  hint.innerHTML="";

  const nextBtn = document.getElementById("nextBtn");
  nextBtn.disabled = true;
  document.getElementById("prevBtn").disabled = (state.idx===0);

  it.options.forEach((opt,i)=>{
    const row = document.createElement("label");
    row.className="opt";
    const inp = document.createElement("input"); inp.type="radio"; inp.name=it.id; inp.value=i;
    const span = document.createElement("span"); span.innerHTML = opt;
    row.appendChild(inp); row.appendChild(span);

    row.addEventListener("click", ()=>{
      const correct = (i===it.correct);
      row.classList.add(correct? "correct":"incorrect");

      fb.textContent = it.feedback[i];
      fb.className = "fb " + (correct? "ok":"bad");

      Array.from(wrap.querySelectorAll("label.opt input")).forEach(el=>el.disabled=true);

      if(it.transfer && !correct && it.hint){
        hint.style.display = "block";
        hint.innerHTML = it.hint;
      }

      if(!(it.id in state.done)){
        state.points += correct ? 1 : 0;
        state.done[it.id] = correct? "full":"none";
        save();
      }
      nextBtn.disabled = false;
      setBar();
    });

    wrap.appendChild(row);
  });

  setBar();
}

document.getElementById("nextBtn").addEventListener("click", ()=>{
  if(state.idx < TOTAL_ITEMS-1){ state.idx++; save(); render(); }
  else {
    alert(`Geschafft! Punkte: ${state.points} von ${TOTAL_ITEMS}. Du hast alle ${TOTAL_ITEMS} Aufgaben abgeschlossen.`);
  }
});
document.getElementById("prevBtn").addEventListener("click", ()=>{
  if(state.idx>0){ state.idx--; save(); render(); }
});

document.getElementById("resetBtn").addEventListener("click", ()=>{
  if(confirm("Fortschritt wirklich l√∂schen und neu starten?")){
    localStorage.removeItem(LS_KEY);
    state = { idx:0, points:0, done:{} };
    save();
    render();
    alert("Zur√ºckgesetzt. Viel Erfolg beim neuen Durchlauf!");
  }
});

render();
</script>
</body>
</html>
