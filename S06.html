<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>QUANT – Messqualität: Interaktives Modul</title>
<style>
  :root{
    --bg:#0b1220; --card:#121826; --muted:#9aa4b2; --text:#eef2f7;
    --accent:#7dd3fc; --ok:#34d399; --bad:#f87171; --btn:#38bdf8;
  }
  html,body{height:100%}
  body{margin:0;background:linear-gradient(135deg,#0b1220 0%,#0f172a 100%);color:var(--text);
       font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
       display:flex;align-items:center;justify-content:center;padding:24px}
  .shell{width:100%;max-width:940px}
  header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px;gap:16px}
  h1{font-size:20px;margin:0}
  .progress{height:10px;background:#1f2937;border-radius:999px;overflow:hidden}
  .progress span{display:block;height:10px;background:linear-gradient(90deg,#38bdf8,#60a5fa);width:0%}
  .card{background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,.02));
        border:1px solid #1f2937;border-radius:18px;padding:20px;box-shadow:0 10px 40px rgba(2,6,23,.4)}
  .title{font-weight:800;font-size:18px;margin-bottom:6px;display:flex;align-items:center;gap:10px}
  .subtitle{color:var(--muted);margin-bottom:14px}
  .opt{display:flex;gap:10px;align-items:center;margin:10px 0;padding:12px;border:1px solid #1f2937;border-radius:12px;cursor:pointer}
  .opt input{margin:0}
  .opt.correct{border-color:#065f46;background:rgba(16,185,129,.12)}
  .opt.incorrect{border-color:#7f1d1d;background:rgba(239,68,68,.10)}
  .btns{display:flex;gap:10px;justify-content:flex-end;margin-top:16px}
  button{background:var(--btn);color:#0b1220;border:none;border-radius:10px;padding:10px 14px;font-weight:700;cursor:pointer}
  button.secondary{background:#1f2937;color:var(--text)}
  button[disabled]{opacity:.4;cursor:not-allowed}
  .fb{margin-top:10px;font-size:14px}
  .ok{color:var(--ok)} .bad{color:var(--bad)}
  .muted{color:var(--muted)}
  .badge{display:inline-block;font-size:12px;font-weight:800;letter-spacing:.04em;
         padding:2px 8px;border-radius:999px;border:1px solid #334155;color:var(--accent);
         background:rgba(125,211,252,.10)}
</style>
</head>
<body>
<div class="shell">
  <header>
    <div>
      <h1>QUANT – Messqualität: Objektivität, Validität & Reliabilität</h1>
      <div class="muted">Punkte: <b id="pointsLabel">0</b> / <b id="maxLabel">0</b> • Aufgabe <b id="idxLabel">1</b>/<b id="totalLabel">0</b></div>
    </div>
    <div style="min-width:280px">
      <div class="progress"><span id="bar"></span></div>
      <div style="margin-top:8px;display:flex;gap:8px;justify-content:flex-end;flex-wrap:wrap">
        <button id="resetBtn" class="secondary" title="Fortschritt löschen und neu starten">Neu starten</button>
      </div>
    </div>
  </header>

  <div class="card">
    <div class="title" id="title"></div>
    <div class="subtitle" id="question"></div>
    <div id="options"></div>
    <div class="fb" id="feedback"></div>
    <div class="btns">
      <button class="secondary" id="prevBtn">Zurück</button>
      <button id="nextBtn" disabled>Weiter</button>
    </div>
  </div>
</div>

<script>
const items = [
  {
    id:"gk-why",
    type:"mc",
    title:"Messqualität – Grundverständnis",
    question:"Warum sind Gütekriterien in der empirischen Forschung zentral?",
    options:[
      "Sie sichern die Vergleichbarkeit von Ergebnissen zwischen Studien und Erhebungszeitpunkten.",
      "Sie liefern einen Rahmen zur Qualitätsbeurteilung von Messungen.",
      "Sie sind vor allem für Laborexperimente relevant.",
      "Sie entscheiden, welche Theorie wahr ist."
    ],
    correct:1,
    feedback:[
      "Teilwahr, aber zu eng: Vergleichbarkeit ist eine Folge, nicht der Kernzweck.",
      "Richtig. Gütekriterien strukturieren die Qualitätsprüfung von Messungen.",
      "Nein. Sie gelten für alle empirischen Designs, nicht nur Labor.",
      "Nein. Gütekriterien bewerten Messqualität, nicht Theorienwahrheit."
    ]
  },
  {
    id:"obj-def",
    type:"mc",
    title:"Objektivität – Definition",
    question:"Was bedeutet <b>Objektivität</b> einer Messung?",
    options:[
      "Ergebnisse hängen nicht von der durchführenden Person ab.",
      "Ergebnisse sind frei von Zufallsfehlern.",
      "Ergebnisse stimmen mit der Theorie überein.",
      "Ergebnisse sind über Jahrzehnte identisch."
    ],
    correct:0,
    feedback:[
      "Richtig. Objektivität = Unabhängigkeit vom Durchführenden/Auswertenden.",
      "Nein. Das wäre Reliabilität (Zufallseinflüsse).",
      "Nein. Das gehört zur Validität (misst es das Richtige?).",
      "Nein. Zeitstabilität ist Retest-Frage, nicht Definition von Objektivität."
    ]
  },
  {
    id:"obj-facets",
    type:"mc",
    title:"Objektivität – Facetten",
    question:"Welche <b>drei</b> Facetten gehören zur Objektivität?",
    options:[
      "Durchführungs-, Auswertungs- und Interpretationsobjektivität",
      "Inhalts-, Kriteriums- und Konstruktobjektivität",
      "Retest-, Paralleltest- und Split-Half-Objektivität",
      "Interne, externe und ökologische Objektivität"
    ],
    correct:0,
    feedback:[
      "Richtig. Das sind die klassischen Objektivitätsfacetten.",
      "Nein. Das sind Validitätsarten, nicht Objektivität.",
      "Nein. Das sind Reliabilitätskonzepte.",
      "Nein. So werden Objektivitätsfacetten nicht klassifiziert."
    ]
  },
  {
    id:"val-core",
    type:"mc",
    title:"Validität – Kernfrage",
    question:"Was prüft <b>Validität</b>?",
    options:[
      "Ob die Skala stabil über die Zeit ist",
      "Ob die Skala das misst, <i>was</i> sie messen soll",
      "Ob verschiedene Testversionen gleich sind",
      "Ob die Skala ohne Ausreißer auskommt"
    ],
    correct:1,
    feedback:[
      "Nein. Zeitstabilität = Retest-Reliabilität.",
      "Richtig. Validität = inhaltliche/konzeptuelle Gültigkeit.",
      "Nein. Das ist Paralleltest-Reliabilität.",
      "Nein. Ausreißer sind Datenqualität, nicht Validitätsdefinition."
    ]
  },
  {
    id:"val-content",
    type:"mc",
    title:"Validität – Inhaltsvalidität",
    question:"<b>Inhaltsvalidität</b> liegt vor, wenn …",
    options:[
      "… die Skala alle relevanten Aspekte des Konstrukts abdeckt.",
      "… die Skala mit externen Kriterien korreliert.",
      "… die Skala mit Theorievorhersagen übereinstimmt.",
      "… zwei Testversionen gleichwertig sind."
    ],
    correct:0,
    feedback:[
      "Richtig. Vollständige, theoriefundierte Abdeckung des Inhaltsbereichs.",
      "Nein. Das wäre Kriteriumsvalidität.",
      "Nein. Das zielt auf Konstruktvalidität/konvergente Evidenz.",
      "Nein. Das ist Paralleltest-Reliabilität."
    ]
  },
  {
    id:"rel-overview",
    type:"mc",
    title:"Reliabilität – Überblick",
    question:"Welche Aussage zur <b>Reliabilität</b> ist korrekt?",
    options:[
      "Reliabilität = „misst das Richtige“.",
      "Reliabilität ist unabhängig von Objektivität.",
      "Reliabilität = „misst zuverlässig/präzise“.",
      "Reliabilität wird nur in Experimenten benötigt."
    ],
    correct:2,
    feedback:[
      "Nein. „Misst das Richtige“ = Validität.",
      "Nein. Geringe Objektivität kann Reliabilität beeinträchtigen.",
      "Richtig. Reliabilität bezeichnet Messpräzision/Zuverlässigkeit.",
      "Nein. Sie ist in allen Designs relevant."
    ]
  },
  {
    id:"rel-retest",
    type:"mc",
    title:"Reliabilität – Test-Retest",
    question:"<b>Test-Retest-Reliabilität</b> bedeutet …",
    options:[
      "… Korrelation zwischen erster und zweiter Testhälfte.",
      "… Übereinstimmung zweier gleichwertiger Testformen.",
      "… Stabilität der Ergebnisse über Zeitpunkte hinweg.",
      "… Mittelwert aller Item–Gesamt–Korrelationen."
    ],
    correct:2,
    feedback:[
      "Nein. Das ist Split-Half-Reliabilität.",
      "Nein. Das ist Paralleltest-Reliabilität.",
      "Richtig. Retest misst zeitliche Stabilität.",
      "Nein. Das ist keine Standarddefinition."
    ]
  },
  {
    id:"alpha-core",
    type:"mc",
    title:"Cronbachs Alpha – Einordnung",
    question:"Was misst <b>Cronbachs Alpha (α)</b> primär?",
    options:[
      "Stabilität über Zeit",
      "Interne Konsistenz der Items",
      "Kriteriumsvalidität",
      "Durchführungsobjektivität"
    ],
    correct:1,
    feedback:[
      "Nein. Zeitstabilität = Retest.",
      "Richtig. α schätzt die interne Konsistenz.",
      "Nein. Das ist Validität.",
      "Nein. Objektivität ist anderes Gütekriterium."
    ]
  },
  {
    id:"alpha-threshold",
    type:"mc",
    title:"Cronbachs Alpha – Schwellen",
    question:"Welche Einordnung passt zu <b>α = .84</b>?",
    options:[
      "ungenügend",
      "grenzwertig",
      "akzeptabel",
      "gut"
    ],
    correct:3,
    feedback:[
      "Nein. .84 ist deutlich über minimalen Schwellen.",
      "Nein. Grenzbereich liegt eher um .60–.70 (kontextabhängig).",
      "Teils okay, aber .84 gilt üblicherweise als gut.",
      "Richtig. α ≈ .8–.9 wird meist als gut bewertet (Kontext beachten)."
    ]
  },
  {
    id:"alpha-caveat",
    type:"mc",
    title:"Cronbachs Alpha – Caveats",
    question:"Welche Einschränkung gilt für die Interpretation von <b>α</b>?",
    options:[
      "α ist bei sehr kurzen Skalen tendenziell niedriger – trotz guter Passung.",
      "α funktioniert nur für dichotome Items.",
      "α ist identisch mit Retest-Reliabilität.",
      "α ist völlig unabhängig von Eindimensionalität."
    ],
    correct:0,
    feedback:[
      "Richtig. Wenige Items drücken α; Kontext & Itemqualität mitdenken.",
      "Nein. α gilt für dichotome und polytome Items.",
      "Nein. Retest ist ein anderes Konzept.",
      "Nein. Eindimensionalität ist Annahmehintergrund für α."
    ]
  },
  {
    id:"transfer-multidim",
    type:"mc",
    title:"🧠 Transfer – Multidimensionalität erkennen",
    question:"Ein 4-Item-Index zeigt <b>α = .53</b>. Welche Schlussfolgerung ist am ehesten angemessen?",
    options:[
      "Die Items sind perfekt homogen – daher geringe Validität.",
      "Die Skala ist vermutlich nicht eindimensional – Konzept/Items prüfen.",
      "Retest-Reliabilität ist automatisch hoch.",
      "α steigt zwangsläufig, wenn man Items löscht."
    ],
    correct:1,
    feedback:[
      "Nein. Niedriges α spricht gegen Homogenität.",
      "Richtig. Prüfe Iteminhalte/Trennschärfen/Struktur.",
      "Nein. α sagt nichts direkt über Retest aus.",
      "Nein. Löschen kann α senken oder heben – Analyse nötig."
    ],
    transfer:true
  },
  {
    id:"transfer-procedure-3items",
    type:"mc",
    title:"🧠 Transfer – Passende Güteprüfung wählen",
    question:"Du entwickelst eine neue <b>3-Item-Skala</b>. Welches Vorgehen ist am sinnvollsten?",
    options:[
      "Inhaltsvalidität sorgfältig prüfen und <i>Vorab-Tests mit Teilnehmenden</i> zur Verständlichkeit durchführen; Reliabilitätsprüfung kann nachgelagert erfolgen.",
      "Theoretische Fundierung + <i>Vorab-Tests mit Teilnehmenden</i> und Itemanalyse; zusätzlich (wo möglich) Retest/Paralleltest zur Reliabilität.",
      "Zunächst eine explorative Faktorenanalyse mit kleiner Stichprobe; weitere Gütekriterien später.",
      "Vor allem einen kurzfristigen Retest durchführen; auf α kann man bei 3 Items verzichten."
    ],
    correct:1,
    feedback:[
      "Teilweise sinnvoll, aber ohne systematische Reliabilitätsprüfung unvollständig.",
      "Richtig. Theorie + Vorab-Tests + Itemanalyse, ergänzt um Reliabilität (z. B. Retest/Paralleltest).",
      "Nein. EFA mit Mini-Stichprobe ist methodisch schwach und ersetzt keine Gütekriterien.",
      "Nein. α ist auch bei 3 Items interpretierbar – mit Vorsicht; nur Retest reicht nicht."
    ],
    transfer:true
  }
];

const TOTAL_ITEMS = items.length;
const LS_KEY = "s04_step_state_v4_simple_messqualitaet";

let state = JSON.parse(localStorage.getItem(LS_KEY) || "{}");
if(!state.idx && state.idx!==0){ state = { idx:0, points:0, done:{} }; }

function save(){ localStorage.setItem(LS_KEY, JSON.stringify(state)); }

function setHeader(){
  const pct = Math.round((state.idx)/TOTAL_ITEMS*100);
  document.getElementById("bar").style.width = pct+"%";
  document.getElementById("pointsLabel").textContent = state.points;
  document.getElementById("maxLabel").textContent = TOTAL_ITEMS;
  document.getElementById("idxLabel").textContent = Math.min(state.idx+1, TOTAL_ITEMS);
  document.getElementById("totalLabel").textContent = TOTAL_ITEMS;
}

function render(){
  const it = items[state.idx];
  document.getElementById("title").innerHTML = `${state.idx+1}. ${it.title} ${it.transfer ? '<span class="badge">🧠 TRANSFER</span>' : ""}`;
  const wrap = document.getElementById("options");
  const fb = document.getElementById("feedback");
  document.getElementById("question").innerHTML = it.question;
  wrap.innerHTML = ""; fb.textContent=""; fb.className="fb";

  const nextBtn = document.getElementById("nextBtn");
  nextBtn.disabled = true;
  document.getElementById("prevBtn").disabled = (state.idx===0);

  if(it.type==="mc"){
    it.options.forEach((opt,i)=>{
      const row = document.createElement("label");
      row.className="opt";
      const inp = document.createElement("input"); inp.type="radio"; inp.name=it.id; inp.value=i;
      const span = document.createElement("span"); span.innerHTML = opt;
      row.appendChild(inp); row.appendChild(span);
      row.addEventListener("click", ()=>{
        const correct = (i===it.correct);
        row.classList.add(correct? "correct":"incorrect");
        fb.textContent = it.feedback[i];
        fb.className = "fb " + (correct? "ok":"bad");
        Array.from(wrap.querySelectorAll("label.opt input")).forEach(el=>el.disabled=true);
        if(!(it.id in state.done)){
          state.points += correct ? 1 : 0;
          state.done[it.id] = correct? "full":"none";
          save();
        }
        nextBtn.disabled = false;
        setHeader();
      });
      wrap.appendChild(row);
    });
  }

  if(it.type==="tf"){
    const buttons = document.createElement("div"); buttons.style.display="flex"; buttons.style.gap="10px";
    const bT = document.createElement("button"); bT.textContent="Stimmt";
    const bF = document.createElement("button"); bF.textContent="Stimmt nicht"; bF.className="secondary";
    const st = document.createElement("div"); st.className="subtitle"; st.innerHTML = it.question;
    document.getElementById("question").innerHTML = ""; document.getElementById("question").appendChild(st);
    [bT,bF].forEach(btn=>{
      btn.addEventListener("click", ()=>{
        const isTrue = btn===bT; const correct = (isTrue===it.correct);
        fb.textContent = correct? it.feedbackTrue : it.feedbackFalse;
        fb.className = "fb " + (correct? "ok":"bad");
        bT.disabled = bF.disabled = true;
        if(!(it.id in state.done)){
          state.points += correct ? 1 : 0;
          state.done[it.id] = correct? "full":"none";
          save();
        }
        nextBtn.disabled = false;
        setHeader();
      });
    });
    buttons.appendChild(bT); buttons.appendChild(bF);
    wrap.appendChild(buttons);
  }
  setHeader();
}

document.getElementById("nextBtn").addEventListener("click", ()=>{
  if(state.idx < TOTAL_ITEMS-1){ state.idx++; save(); render(); }
  else {
    alert(`Geschafft! Punkte: ${state.points} von ${TOTAL_ITEMS}. Du hast alle ${TOTAL_ITEMS} Aufgaben abgeschlossen.`);
  }
});
document.getElementById("prevBtn").addEventListener("click", ()=>{
  if(state.idx>0){ state.idx--; save(); render(); }
});

document.getElementById("resetBtn").addEventListener("click", ()=>{
  if(confirm("Fortschritt wirklich löschen und neu starten?")){
    localStorage.removeItem(LS_KEY);
    state = { idx:0, points:0, done:{} };
    save();
    render();
    alert("Zurückgesetzt. Viel Erfolg beim neuen Durchlauf!");
  }
});

render();
</script>
</body>
</html>
