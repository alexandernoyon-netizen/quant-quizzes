<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>QUANT ‚Äì Sitzung 20: Kategoriale Pr√§diktion & Interaktionen (Interaktives Quiz)</title>

<style>
  :root{
    --bg:#0b1220; --card:#121826; --muted:#9aa4b2; --text:#eef2f7;
    --accent:#7dd3fc; --ok:#34d399; --bad:#f87171; --btn:#38bdf8;
  }
  html,body{height:100%}
  body{margin:0;background:linear-gradient(135deg,#0b1220 0%,#0f172a 100%);color:var(--text);
       font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
       display:flex;align-items:center;justify-content:center;padding:24px}
  .shell{width:100%;max-width:940px}
  header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px;gap:16px}
  h1{font-size:20px;margin:0}
  .progress{height:10px;background:#1f2937;border-radius:999px;overflow:hidden}
  .progress span{display:block;height:10px;background:linear-gradient(90deg,#38bdf8,#60a5fa);width:0%}
  .card{background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,.02));
        border:1px solid #1f2937;border-radius:18px;padding:20px;box-shadow:0 10px 40px rgba(2,6,23,.4)}
  .title{font-weight:800;font-size:18px;margin-bottom:6px;display:flex;align-items:center;gap:10px}
  .subtitle{color:var(--muted);margin-bottom:14px}
  .opt{display:flex;gap:10px;align-items:center;margin:10px 0;padding:12px;border:1px solid #1f2937;border-radius:12px;cursor:pointer}
  .opt input{margin:0}
  .opt.correct{border-color:#065f46;background:rgba(16,185,129,.12)}
  .opt.incorrect{border-color:#7f1d1d;background:rgba(239,68,68,.10)}
  .btns{display:flex;gap:10px;justify-content:flex-end;margin-top:16px}
  button{background:var(--btn);color:#0b1220;border:none;border-radius:10px;padding:10px 14px;font-weight:700;cursor:pointer}
  button.secondary{background:#1f2937;color:var(--text)}
  button[disabled]{opacity:.4;cursor:not-allowed}
  .fb{margin-top:10px;font-size:14px}
  .ok{color:var(--ok)} .bad{color:var(--bad)}
  .muted{color:var(--muted)}
  .badge{display:inline-block;font-size:12px;font-weight:800;letter-spacing:.04em;
         padding:2px 8px;border-radius:999px;border:1px solid #334155;color:var(--accent);
         background:rgba(125,211,252,.10)}
  .hint{margin-top:8px;color:var(--muted);font-size:13px}
  .hint b{color:var(--accent)}
  details{margin-top:6px}
  details summary{cursor:pointer}
  code{color:var(--accent)}
</style>
</head>

<body>
<div class="shell">
  <header>
    <div>
      <h1>QUANT ‚Äì Sitzung 20: Kategoriale Pr√§diktion & Interaktionen</h1>
      <div class="muted" id="meta">Punkte: <b id="points">0</b> / <b id="maxpoints">0</b> ‚Ä¢ Aufgabe <b id="idx">1</b>/<b id="total">0</b></div>
      <details>
        <summary>Info</summary>
        <div class="muted">
          Step-by-step Quiz zur Sitzung 20 (Dummy-Codierung & Interaktionen).
          Scoring: <b>+1</b> pro richtige Antwort, <b>+0</b> bei falscher Antwort.
          Transferfragen sind mit <span class="badge">üß† TRANSFER</span> markiert.
        </div>
      </details>
    </div>
    <div style="min-width:280px">
      <div class="progress"><span id="bar"></span></div>
      <div style="margin-top:8px;display:flex;gap:8px;justify-content:flex-end;flex-wrap:wrap">
        <button id="resetBtn" class="secondary" title="Fortschritt l√∂schen und neu starten">Neu starten</button>
      </div>
      <div class="muted" style="text-align:right;margin-top:6px">
        Key: <code id="lskey"></code>
      </div>
    </div>
  </header>

  <div class="card">
    <div class="title" id="title"></div>
    <div class="subtitle" id="question"></div>
    <div id="options"></div>
    <div class="fb" id="feedback"></div>
    <div class="hint" id="hint" style="display:none"></div>
    <div class="btns">
      <button class="secondary" id="prevBtn">Zur√ºck</button>
      <button id="nextBtn" disabled>Weiter</button>
    </div>
  </div>
</div>

<script>
// ================== CONFIG ==================
const TEMPLATE_VERSION = "v4-simple";
const COURSE_TAG = "QUANT2";
const SESSION_TAG = "S20";
// ============================================

// =============== ITEMS ===============
// Hinweis (f√ºr uns): correct = Index der richtigen Antwort (0-basiert!)
const items = [
  {
    id:"reg-predictor-types",
    type:"mc",
    title:"Regression & Variablentypen",
    question:"Welche Art von Pr√§diktoren kann grunds√§tzlich in einer linearen Regression verwendet werden?",
    options:[
      "Nur metrische Pr√§diktoren",
      "Nur kategoriale Pr√§diktoren",
      "Sowohl metrische als auch kategoriale Pr√§diktoren",
      "Nur kategoriale Pr√§diktoren mit exakt zwei Kategorien"
    ],
    correct:2,
    feedback:[
      "Nein. Metrische sind m√∂glich ‚Äì aber nicht die einzigen.",
      "Nein. Auch metrische Pr√§diktoren sind m√∂glich.",
      "Richtig. Kategoriale Pr√§diktoren werden √ºber Kodierung (z. B. Dummies) eingebunden.",
      "Nein. Auch mehr als zwei Kategorien sind m√∂glich (mit k‚àí1 Dummies)."
    ],
    transfer:false
  },
  {
    id:"why-not-direct",
    type:"mc",
    title:"Problemstellung",
    question:"Warum k√∂nnen kategoriale Variablen nicht direkt in eine Regressionsgleichung eingesetzt werden?",
    options:[
      "Weil Regression nur f√ºr Experimente gedacht ist",
      "Weil kategoriale Variablen keine Varianz haben",
      "Weil Regression numerische Werte ben√∂tigt",
      "Weil Jamovi kategoriale Variablen nicht verarbeiten kann"
    ],
    correct:2,
    feedback:[
      "Nein. Regression ist nicht auf Experimente beschr√§nkt.",
      "Nein. Kategoriale Variablen haben Varianz ‚Äì aber nicht in metrischen Einheiten.",
      "Richtig. Das Modell rechnet mit Zahlen ‚Äì Kategorien m√ºssen kodiert werden.",
      "Nein. Jamovi kann das, sobald Variablen als Faktoren genutzt werden."
    ],
    transfer:false
  },
  {
    id:"dummy-principle",
    type:"mc",
    title:"Dummy-Codierung ‚Äì Grundidee",
    question:"Was beschreibt das Prinzip der Dummy-Codierung korrekt?",
    options:[
      "Jede Kategorie wird durch eine Zahl von 1 bis k codiert",
      "Alle Kategorien werden in eine einzige Variable umgerechnet",
      "F√ºr jede Kategorie (au√üer der Referenz) wird eine 0/1-Variable erstellt",
      "Jede Kategorie erh√§lt einen eigenen Regressionskoeffizienten und einen eigenen Intercept"
    ],
    correct:2,
    feedback:[
      "Nein. 1..k-Codierung ist problematisch (impliziert Abst√§nde).",
      "Nein. Meist braucht man mehrere Indikatorvariablen.",
      "Richtig. k Kategorien ‚Üí k‚àí1 Dummies, Referenz bleibt als Basis.",
      "Nein. Intercept ist i. d. R. gemeinsam; Dummies modellieren Unterschiede zur Referenz."
    ],
    transfer:false
  },
  {
    id:"kminus1",
    type:"mc",
    title:"Anzahl Dummy-Variablen",
    question:"Eine kategoriale Variable hat 4 Auspr√§gungen. Wie viele Dummy-Variablen werden ben√∂tigt?",
    options:["4","2","3","1"],
    correct:2,
    feedback:[
      "Nein. Eine Kategorie ist Referenz und wird nicht als Dummy gef√ºhrt.",
      "Nein. F√ºr 4 Kategorien braucht man mehr als 2 Dummies.",
      "Richtig. k‚àí1 = 3 Dummy-Variablen.",
      "Nein. 1 Dummy reicht nur bei zwei Kategorien."
    ],
    transfer:false
  },
  {
    id:"reference-category",
    type:"mc",
    title:"Referenzkategorie",
    question:"Was gilt f√ºr die Referenzkategorie bei Dummy-Codierung?",
    options:[
      "Sie erh√§lt den Wert 1 in allen Dummy-Variablen",
      "Sie wird aus der Analyse ausgeschlossen",
      "Sie erh√§lt in allen Dummy-Variablen den Wert 0",
      "Sie wird nur bei signifikanten Effekten ber√ºcksichtigt"
    ],
    correct:2,
    feedback:[
      "Nein. Das w√§re das Gegenteil von Referenz.",
      "Nein. Sie bleibt im Modell ‚Äì nur implizit.",
      "Richtig. Referenz = 0 in allen Dummies.",
      "Nein. Signifikanz steuert nicht, ob eine Kategorie ‚Äûexistiert‚Äú."
    ],
    transfer:false
  },
  {
    id:"dummy-beta-meaning",
    type:"mc",
    title:"Interpretation Dummy-Koeffizient",
    question:"Was bedeutet ein Regressionskoeffizient f√ºr einen Dummy-Pr√§diktor (z. B. ‚Äûweiblich‚Äú)?",
    options:[
      "Den absoluten Mittelwert dieser Gruppe",
      "Die Varianz innerhalb dieser Gruppe",
      "Den Unterschied dieser Gruppe zur Referenzgruppe",
      "Die Wahrscheinlichkeit, zur Kategorie zu geh√∂ren"
    ],
    correct:2,
    feedback:[
      "Nein. Der Gruppenmittelwert ist nicht direkt der Dummy-Koeffizient.",
      "Nein. Varianz ist etwas anderes als der Regressionskoeffizient.",
      "Richtig. Dummy-Beta = Unterschied zur Referenz (bei sonst gleichen Bedingungen).",
      "Nein. Das w√§re eher logistische Regression (Wahrscheinlichkeiten)."
    ],
    transfer:false
  },
  {
    id:"jamovi-factor",
    type:"mc",
    title:"Jamovi ‚Äì Umsetzung",
    question:"Was muss man in Jamovi tun, damit kategoriale Variablen korrekt verarbeitet werden?",
    options:[
      "Dummy-Variablen manuell berechnen",
      "Die Variable als metrisch deklarieren",
      "Die Variable als ‚Äûnominal‚Äú markieren und als Faktor verwenden",
      "Die Referenzkategorie per Hand aus dem Datensatz l√∂schen"
    ],
    correct:2,
    feedback:[
      "Nicht n√∂tig. Jamovi erstellt Kodierungen intern (bei Faktorvariablen).",
      "Nein. Das w√§re inhaltlich falsch.",
      "Richtig. Nominal/Ordinal korrekt setzen und als Faktor ins Modell geben.",
      "Nein. Referenz bleibt im Datensatz ‚Äì sie ist nur die Basis."
    ],
    transfer:false
  },
  {
    id:"why-not-all-cats",
    type:"mc",
    title:"Output lesen",
    question:"Warum erscheinen im Regressionsoutput nicht alle Kategorien einer kategorialen Variable?",
    options:[
      "Weil Jamovi Kategorien mit wenigen F√§llen unterdr√ºckt",
      "Weil nur signifikante Kategorien angezeigt werden",
      "Weil eine Kategorie die Referenz ist und nicht explizit berichtet wird",
      "Weil kategoriale Variablen nur summarisch ausgewiesen werden"
    ],
    correct:2,
    feedback:[
      "Nein. Kleine Zellen sind problematisch, aber nicht der Standardgrund.",
      "Nein. Output zeigt auch nicht-signifikante Koeffizienten.",
      "Richtig. Referenzkategorie ist im Intercept ‚Äûmit drin‚Äú (implizit).",
      "Nein. Die einzelnen Dummy-Koeffizienten werden explizit berichtet."
    ],
    transfer:false
  },
  {
    id:"anova-reg-eq",
    type:"mc",
    title:"ANOVA & Regression",
    question:"Welche Aussage trifft die Beziehung zwischen ANOVA und Regression korrekt?",
    options:[
      "ANOVA ist ein Spezialfall der logistischen Regression",
      "Regression ersetzt die ANOVA vollst√§ndig",
      "ANOVA und Regression sind mathematisch √§quivalent (GLM)",
      "ANOVA ist rein deskriptiv, Regression inferenzstatistisch"
    ],
    correct:2,
    feedback:[
      "Nein. Logistische Regression ist etwas anderes (kategoriales Y).",
      "Nein. Es gibt unterschiedliche Darstellungs- und Interpretationskontexte.",
      "Richtig. Beide sind Spezialf√§lle des allgemeinen linearen Modells (GLM/ALM).",
      "Nein. ANOVA ist ebenso inferenzstatistisch."
    ],
    transfer:false
  },
  {
    id:"interaction-definition",
    type:"mc",
    title:"Interaktionen ‚Äì Grundidee",
    question:"Was beschreibt eine Interaktion in der Regression am treffendsten?",
    options:[
      "Zwei Variablen haben beide einen signifikanten Haupteffekt",
      "Zwei Pr√§diktoren korrelieren miteinander",
      "Der Effekt eines Pr√§diktors h√§ngt vom Wert eines anderen Pr√§diktors ab",
      "Eine Variable vermittelt den Effekt einer anderen"
    ],
    correct:2,
    feedback:[
      "Nein. Haupteffekte ‚â† Interaktion.",
      "Nein. Korrelation zwischen X sagt nichts √ºber Interaktion (Moderation) aus.",
      "Richtig. Moderation: Effekt von X1 ist abh√§ngig von X2.",
      "Nein. Das w√§re Mediation, nicht Interaktion."
    ],
    transfer:false
  },
  {
    id:"interaction-plot",
    type:"mc",
    title:"Grafische Interpretation",
    question:"Wie erkennt man eine Interaktion typischerweise in einer Grafik?",
    options:[
      "An parallelen Linien",
      "An identischen Steigungen",
      "An sich schneidenden oder unterschiedlich steilen Linien",
      "An einem fehlenden Haupteffekt"
    ],
    correct:2,
    feedback:[
      "Nein. Parallele Linien sprechen eher gegen Interaktion.",
      "Nein. Gleiche Steigungen = keine Interaktion (in der Linie-Logik).",
      "Richtig. Unterschiedliche Steigungen / Kreuzungen deuten auf Interaktion hin.",
      "Nein. Interaktionen k√∂nnen mit oder ohne Haupteffekte auftreten."
    ],
    transfer:false
  },
  {
    id:"why-not-just-try",
    type:"mc",
    title:"Theoriebezug",
    question:"Warum sollten Interaktionen nicht ‚Äûeinfach ausprobiert‚Äú werden?",
    options:[
      "Weil Jamovi Interaktionen nur eingeschr√§nkt berechnet",
      "Weil Interaktionen die Stichprobe k√ºnstlich vergr√∂√üern",
      "Weil Interaktionen theoretisch begr√ºndet werden m√ºssen",
      "Weil Interaktionen immer zu nicht-signifikanten Ergebnissen f√ºhren"
    ],
    correct:2,
    feedback:[
      "Nein. Jamovi kann Interaktionen ganz normal sch√§tzen.",
      "Nein. Die Stichprobe bleibt gleich; es werden nur mehr Parameter gesch√§tzt.",
      "Richtig. Sonst drohen Fishing/Overfitting und schwer interpretierbare Modelle.",
      "Nein. Das h√§ngt von Effekten, n, Varianz, Messung etc. ab."
    ],
    transfer:false
  },
  {
    id:"interaction-complexity",
    type:"mc",
    title:"Modellstrategie",
    question:"Warum erh√∂ht das Hinzuf√ºgen von Interaktionstermen die Komplexit√§t eines Regressionsmodells?",
    options:[
      "Weil Interaktionen die Stichprobe verkleinern",
      "Weil Interaktionen die abh√§ngige Variable ver√§ndern",
      "Weil zus√§tzlich bedingte Effekte gesch√§tzt und interpretiert werden m√ºssen",
      "Weil Interaktionen die Dummy-Codierung ersetzen"
    ],
    correct:2,
    feedback:[
      "Nein. n bleibt identisch; aber die Parameterzahl steigt.",
      "Nein. Y bleibt das gleiche Kriterium.",
      "Richtig. Interaktionen bedeuten: Effekte sind konditional ‚Äì Interpretation wird mehrstufig.",
      "Nein. Dummies bleiben relevant; Interaktionen k√∂nnen sogar Dummies einbeziehen."
    ],
    transfer:false
  },
  {
    id:"all-dummies-ns",
    type:"mc",
    title:"Nicht-signifikante Dummy-Effekte",
    question:"Was bedeutet es, wenn alle Dummy-Variablen einer kategorialen Variable nicht signifikant sind?",
    options:[
      "Die Variable wurde falsch codiert",
      "Das Modell ist ung√ºltig",
      "Die Gruppen unterscheiden sich statistisch nicht bedeutsam",
      "Die Referenzkategorie ist falsch gew√§hlt"
    ],
    correct:2,
    feedback:[
      "Nicht zwingend. Falsche Kodierung ist m√∂glich, aber nicht die Standardinterpretation.",
      "Nein. Ein nicht-signifikanter Faktor macht das Modell nicht ung√ºltig.",
      "Richtig. Im Modell zeigen sich keine klaren Unterschiede zur Referenz (unter Kontrolle anderer Pr√§diktoren).",
      "Nicht unbedingt. Andere Referenz √§ndert Darstellung, nicht die Substanz."
    ],
    transfer:false
  },
  {
    id:"transfer-when-interaction",
    type:"mc",
    title:"Transfer: Wann Interaktion modellieren?",
    question:"Welche Situation spricht <b>am ehesten</b> f√ºr die Modellierung einer Interaktion?",
    options:[
      "Wenn zwei Pr√§diktoren hoch korreliert sind",
      "Wenn das R¬≤ m√∂glichst gro√ü werden soll",
      "Wenn es theoretisch plausibel ist, dass ein Effekt je nach Gruppe unterschiedlich ausf√§llt",
      "Wenn ein Haupteffekt nicht signifikant ist"
    ],
    correct:2,
    feedback:[
      "Nein. Korrelation zwischen X ist kein Argument f√ºr Interaktion (und kann Multikollinearit√§t bedeuten).",
      "Nein. ‚ÄûR¬≤ maximieren‚Äú ist kein wissenschaftlich sauberes Ziel.",
      "Richtig. Theorie/Fragestellung ‚Üí plausible Moderation ‚Üí Interaktion testen.",
      "Nein. Nicht-signifikanter Haupteffekt ist kein ausreichender Grund."
    ],
    transfer:true,
    hint:"<b>Tipp:</b> Interaktionen sind keine ‚ÄûPower-Tricks‚Äú, sondern Hypothesen √ºber <i>Moderation</i> (Effekte sind abh√§ngig von Kontext/Gruppe)."
  }
];

// Totals
const TOTAL_ITEMS = items.length;

// Storage key
const LS_KEY = `quiz_state_${COURSE_TAG}_${SESSION_TAG}_${TEMPLATE_VERSION}`;
document.getElementById("lskey").textContent = LS_KEY;

// State
let state = JSON.parse(localStorage.getItem(LS_KEY) || "{}");
if(!state.idx && state.idx!==0){ state = { idx:0, points:0, done:{} }; }

function save(){ localStorage.setItem(LS_KEY, JSON.stringify(state)); }

function setBar(){
  const pct = Math.round((state.idx)/TOTAL_ITEMS*100);
  document.getElementById("bar").style.width = pct+"%";
  document.getElementById("points").textContent = state.points;
  document.getElementById("maxpoints").textContent = TOTAL_ITEMS;
  document.getElementById("idx").textContent = Math.min(state.idx+1, TOTAL_ITEMS);
  document.getElementById("total").textContent = TOTAL_ITEMS;
}

function render(){
  const it = items[state.idx];

  document.getElementById("title").innerHTML =
    `${state.idx+1}. ${it.title} ${it.transfer ? '<span class="badge" title="Transferfrage: neues Problem auf Basis des Gelernten">üß† TRANSFER</span>' : ""}`;

  document.getElementById("question").innerHTML = it.question;

  const wrap = document.getElementById("options");
  wrap.innerHTML = "";

  const fb = document.getElementById("feedback");
  fb.textContent=""; fb.className="fb";

  const hint = document.getElementById("hint");
  hint.style.display="none";
  hint.innerHTML="";

  const nextBtn = document.getElementById("nextBtn");
  nextBtn.disabled = true;
  document.getElementById("prevBtn").disabled = (state.idx===0);

  it.options.forEach((opt,i)=>{
    const row = document.createElement("label");
    row.className="opt";
    const inp = document.createElement("input"); inp.type="radio"; inp.name=it.id; inp.value=i;
    const span = document.createElement("span"); span.innerHTML = opt;
    row.appendChild(inp); row.appendChild(span);

    row.addEventListener("click", ()=>{
      const correct = (i===it.correct);
      row.classList.add(correct? "correct":"incorrect");

      fb.textContent = it.feedback[i];
      fb.className = "fb " + (correct? "ok":"bad");

      Array.from(wrap.querySelectorAll("label.opt input")).forEach(el=>el.disabled=true);

      if(it.transfer && !correct && it.hint){
        hint.style.display = "block";
        hint.innerHTML = it.hint;
      }

      if(!(it.id in state.done)){
        state.points += correct ? 1 : 0;
        state.done[it.id] = correct? "full":"none";
        save();
      }
      nextBtn.disabled = false;
      setBar();
    });

    wrap.appendChild(row);
  });

  setBar();
}

document.getElementById("nextBtn").addEventListener("click", ()=>{
  if(state.idx < TOTAL_ITEMS-1){ state.idx++; save(); render(); }
  else {
    alert(`Geschafft! Punkte: ${state.points} von ${TOTAL_ITEMS}. Du hast alle ${TOTAL_ITEMS} Aufgaben abgeschlossen.`);
  }
});
document.getElementById("prevBtn").addEventListener("click", ()=>{
  if(state.idx>0){ state.idx--; save(); render(); }
});

document.getElementById("resetBtn").addEventListener("click", ()=>{
  if(confirm("Fortschritt wirklich l√∂schen und neu starten?")){
    localStorage.removeItem(LS_KEY);
    state = { idx:0, points:0, done:{} };
    save();
    render();
    alert("Zur√ºckgesetzt. Viel Erfolg beim neuen Durchlauf!");
  }
});

render();
</script>
</body>
</html>
