<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>QUANT â€“ Sitzung 4: Interaktives Modul (Step-by-Step)</title>
<style>
  :root{
    --bg:#0b1220; --card:#121826; --muted:#9aa4b2; --text:#eef2f7;
    --accent:#7dd3fc; --ok:#34d399; --bad:#f87171; --btn:#38bdf8;
  }
  html,body{height:100%}
  body{margin:0;background:linear-gradient(135deg,#0b1220 0%,#0f172a 100%);color:var(--text);
       font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
       display:flex;align-items:center;justify-content:center;padding:24px}
  .shell{width:100%;max-width:940px}
  header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px;gap:16px}
  h1{font-size:20px;margin:0}
  .progress{height:10px;background:#1f2937;border-radius:999px;overflow:hidden}
  .progress span{display:block;height:10px;background:linear-gradient(90deg,#38bdf8,#60a5fa);width:0%}
  .card{background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,.02));
        border:1px solid #1f2937;border-radius:18px;padding:20px;box-shadow:0 10px 40px rgba(2,6,23,.4)}
  .title{font-weight:800;font-size:18px;margin-bottom:6px;display:flex;align-items:center;gap:10px}
  .subtitle{color:var(--muted);margin-bottom:14px}
  .opt{display:flex;gap:10px;align-items:center;margin:10px 0;padding:12px;border:1px solid #1f2937;border-radius:12px;cursor:pointer}
  .opt input{margin:0}
  .opt.correct{border-color:#065f46;background:rgba(16,185,129,.12)}
  .opt.incorrect{border-color:#7f1d1d;background:rgba(239,68,68,.10)}
  .btns{display:flex;gap:10px;justify-content:flex-end;margin-top:16px}
  button{background:var(--btn);color:#0b1220;border:none;border-radius:10px;padding:10px 14px;font-weight:700;cursor:pointer}
  button.secondary{background:#1f2937;color:var(--text)}
  button[disabled]{opacity:.4;cursor:not-allowed}
  .fb{margin-top:10px;font-size:14px}
  .ok{color:var(--ok)} .bad{color:var(--bad)}
  .muted{color:var(--muted)}
  .badge{display:inline-block;font-size:12px;font-weight:800;letter-spacing:.04em;
         padding:2px 8px;border-radius:999px;border:1px solid #334155;color:var(--accent);
         background:rgba(125,211,252,.10)}
</style>
</head>
<body>
<div class="shell">
  <header>
    <div>
      <h1>QUANT â€“ Sitzung 4: Interaktives Modul (Step-by-Step)</h1>
      <div class="muted">Punkte: <b id="pointsLabel">0</b> / <b id="maxLabel">0</b> â€¢ Aufgabe <b id="idxLabel">1</b>/<b id="totalLabel">0</b></div>
    </div>
    <div style="min-width:280px">
      <div class="progress"><span id="bar"></span></div>
      <div style="margin-top:8px;display:flex;gap:8px;justify-content:flex-end;flex-wrap:wrap">
        <button id="resetBtn" class="secondary" title="Fortschritt lÃ¶schen und neu starten">Neu starten</button>
      </div>
    </div>
  </header>

  <div class="card">
    <div class="title" id="title"></div>
    <div class="subtitle" id="question"></div>
    <div id="options"></div>
    <div class="fb" id="feedback"></div>
    <div class="btns">
      <button class="secondary" id="prevBtn">ZurÃ¼ck</button>
      <button id="nextBtn" disabled>Weiter</button>
    </div>
  </div>
</div>

<script>
const items = [
  {
    id:"operationalisierung-ablauf",
    type:"mc",
    title:"Operationalisierung â€“ Ablauf",
    question:"Welche Reihenfolge beschreibt den Prozess der Operationalisierung korrekt?",
    options:[
      "Messbare Variable â†’ Theorie â†’ Antwortskala â†’ Skalenniveau",
      "Theorie â†’ Messbare Variable â†’ Skalenniveau â†’ Antwortskala",
      "Antwortskala â†’ Skalenniveau â†’ Theorie â†’ Messbare Variable",
      "Theorie â†’ Skalenniveau â†’ Messbare Variable â†’ Antwortskala"
    ],
    correct:1,
    feedback:[
      "Nein. Theorie steht am Anfang, nicht die Messvariable.",
      "Richtig. Erst Theorie â†’ dann Messbare Variable â†’ Skalenniveau â†’ Antwortskala.",
      "Nein. Antwortskala wird erst ganz am Ende festgelegt.",
      "Nein. Skalenniveau folgt nicht direkt auf Theorie."
    ]
  },
  {
    id:"nominalskala",
    type:"mc",
    title:"Nominalskala",
    question:"Was ist ein typisches Beispiel fÃ¼r eine Nominalskala?",
    options:[
      "Schulnoten (1â€“6)",
      "Einkommen in Euro",
      "ParteiprÃ¤ferenz",
      "KÃ¶rpergewicht in kg"
    ],
    correct:2,
    feedback:[
      "Nein. Schulnoten sind ordinal.",
      "Nein. Einkommen ist VerhÃ¤ltnis.",
      "Richtig. ParteiprÃ¤ferenz = nominal.",
      "Nein. Gewicht ist VerhÃ¤ltnis."
    ]
  },
  {
    id:"ordinalskala",
    type:"mc",
    title:"Ordinalskala",
    question:"Was unterscheidet eine Ordinalskala von einer Nominalskala?",
    options:[
      "Sie erlaubt arithmetische Operationen.",
      "Ihre Kategorien haben eine Rangfolge.",
      "Sie besitzt einen absoluten Nullpunkt.",
      "Sie erfordert immer gleiche AbstÃ¤nde."
    ],
    correct:1,
    feedback:[
      "Nein. Arithmetische Operationen gehen nicht.",
      "Richtig. Rangordnung ohne AbstÃ¤nde.",
      "Nein. Absoluter Nullpunkt = VerhÃ¤ltnis.",
      "Nein. Gleiche AbstÃ¤nde = Intervall."
    ]
  },
  {
    id:"intervallskala",
    type:"mc",
    title:"Intervallskala",
    question:"Was ist ein Beispiel fÃ¼r eine Intervallskala?",
    options:[
      "Alter in Jahren",
      "Temperatur in Â°C",
      "ParteiprÃ¤ferenz",
      "Bildungsabschluss"
    ],
    correct:1,
    feedback:[
      "Nein. Alter ist VerhÃ¤ltnis.",
      "Richtig. Temperatur in Â°C = Intervall.",
      "Nein. ParteiprÃ¤ferenz ist nominal.",
      "Nein. Bildungsabschluss ist ordinal."
    ]
  },
  {
    id:"verhaeltnisskala",
    type:"mc",
    title:"VerhÃ¤ltnisskala",
    question:"Welche Eigenschaft ist typisch fÃ¼r eine VerhÃ¤ltnisskala?",
    options:[
      "Kategorien ohne Rangfolge",
      "AbstÃ¤nde sind gleich, aber kein Nullpunkt",
      "Absoluter Nullpunkt vorhanden",
      "Nur ordinal interpretierbar"
    ],
    correct:2,
    feedback:[
      "Nein. Das ist nominal.",
      "Nein. Das ist Intervall.",
      "Richtig. Nullpunkt macht VerhÃ¤ltnis aus.",
      "Nein. Ordinal hat keine AbstÃ¤nde."
    ]
  },
  {
    id:"likert-skala",
    type:"mc",
    title:"Likert-Skala",
    question:"Ab wie vielen Stufen wird eine Likert-Skala in den Sozialwissenschaften hÃ¤ufig wie intervallskaliert behandelt?",
    options:[
      "Ab 3 Stufen",
      "Ab 4 Stufen",
      "Ab 5 Stufen",
      "Ab 9 Stufen"
    ],
    correct:2,
    feedback:[
      "Nein. 3 Stufen reichen nicht.",
      "Nein. 4 Stufen sind unÃ¼blich.",
      "Richtig. Ab 5 Stufen oft wie intervall behandelt.",
      "Nein. 9 Stufen sind zu viele."
    ]
  },
  {
    id:"unipolar-vs-bipolar",
    type:"mc",
    title:"Antwortskalen â€“ unipolar vs. bipolar",
    question:"Welche Aussage beschreibt eine bipolare Skala?",
    options:[
      "\"Stimme vÃ¶llig zu\" bis \"stimme gar nicht zu\"",
      "\"Stimme vÃ¶llig zu\" bis \"lehne vÃ¶llig ab\"",
      "Sehr zufrieden bis wenig zufrieden",
      "Ja oder Nein"
    ],
    correct:1,
    feedback:[
      "Nein. Das ist unipolar (nur Zustimmung).",
      "Richtig. Zustimmung â†” Ablehnung = bipolar.",
      "Nein. Beispiel nicht eindeutig bipolar.",
      "Nein. Dichotome Antwort, nicht bipolar."
    ]
  },
  {
    id:"mehrdeutige-frage",
    type:"mc",
    title:"Fragebogendesign â€“ Mehrdeutigkeit",
    question:"Welche Frage ist schlecht formuliert, da sie zwei Aspekte gleichzeitig anspricht?",
    options:[
      "Wie zufrieden sind Sie mit Politik und Wirtschaft?",
      "Wie bewerten Sie die Arbeit der Regierung?",
      "Wie zufrieden sind Sie mit Ihrem Studium?",
      "Wie beurteilen Sie Ihre Wohnsituation?"
    ],
    correct:0,
    feedback:[
      "Richtig. Spricht zwei Aspekte gleichzeitig an.",
      "Nein. Diese Frage ist klar und spezifisch.",
      "Nein. Fragt nur einen Aspekt ab.",
      "Nein. Fragt nur einen Aspekt ab."
    ]
  },
  {
    id:"priming-effekt",
    type:"mc",
    title:"Frageanordnung â€“ Priming",
    question:"Welcher Effekt beschreibt, dass vorangehende Fragen bestimmte Gedanken aktivieren, die spÃ¤tere Antworten beeinflussen?",
    options:[
      "Halo-Effekt",
      "Konsistenz-Effekt",
      "Priming-Effekt",
      "Anker-Effekt"
    ],
    correct:2,
    feedback:[
      "Nein. Halo bezieht sich auf Eindruck einer Person.",
      "Nein. Konsistenz = gleichbleibende Antworten.",
      "Richtig. Priming durch Vorfragen.",
      "Nein. Anker = Zahl oder Referenzpunkt."
    ]
  },
  {
    id:"antwortskalen-fehler",
    type:"mc",
    title:"Antwortskalen â€“ typische Fehler",
    question:"Welche Gestaltung ist ein Fehler bei Antwortskalen?",
    options:[
      "Ãœberlappende Kategorien (z. B. Altersgruppen)",
      "Konsistente Skalen im Fragebogen verwenden",
      "Verbale und numerische Labels kombinieren",
      "Sonstiges-Option mit Freitextfeld anbieten"
    ],
    correct:0,
    feedback:[
      "Richtig. Ãœberlappende Kategorien sind Fehler.",
      "Nein. Konsistenz ist gut.",
      "Nein. Kombination Labels ist gut.",
      "Nein. 'Sonstiges' ist sinnvoll."
    ]
  },
  {
    id:"transfer-likert",
    type:"mc",
    title:"ðŸ§  Transfer â€“ Likert-Skala",
    question:"Eine Umfrage nutzt eine 10-stufige Skala von 'stimme gar nicht zu' bis 'stimme vÃ¶llig zu'. Welche Kritik trifft am ehesten zu?",
    options:[
      "Die Skala ist unipolar, daher ungeeignet.",
      "Die Skala hat zu viele Stufen, was die Auswertung erschwert.",
      "Eine 10-stufige Skala kann nicht wie intervallskaliert behandelt werden.",
      "Die Skala ist grundsÃ¤tzlich immer optimal."
    ],
    correct:1,
    feedback:[
      "Nein. Sie ist bipolar, nicht unipolar.",
      "Richtig. 10 Stufen sind zu viele â†’ kognitive Belastung.",
      "Nein. Auch 10 Stufen kÃ¶nnen intervallnah interpretiert werden.",
      "Nein. Keine Skala ist immer optimal."
    ],
    transfer:true
  },
  {
    id:"transfer-frageanordnung",
    type:"mc",
    title:"ðŸ§  Transfer â€“ Frageanordnung",
    question:"Ein Fragebogen fragt zuerst nach der EinschÃ¤tzung der Bundesregierung, danach nach der allgemeinen Lebenszufriedenheit. Welcher Effekt ist hier wahrscheinlich?",
    options:[
      "Halo-Effekt",
      "Priming-Effekt",
      "Kontrast-Effekt",
      "Anker-Effekt"
    ],
    correct:1,
    feedback:[
      "Nein. Halo = Eindruck einer Person.",
      "Richtig. Bewertung der Regierung beeinflusst Lebenszufriedenheit â†’ Priming.",
      "Nein. Kontrast entsteht durch Extremvergleiche.",
      "Nein. Anker = Zahlenangabe, kein politisches Urteil."
    ],
    transfer:true
  }
];

const TOTAL_ITEMS = items.length;
const LS_KEY = "s04_step_state_v4_simple";

let state = JSON.parse(localStorage.getItem(LS_KEY) || "{}");
if(!state.idx && state.idx!==0){ state = { idx:0, points:0, done:{} }; }

function save(){ localStorage.setItem(LS_KEY, JSON.stringify(state)); }

function setHeader(){
  const pct = Math.round((state.idx)/TOTAL_ITEMS*100);
  document.getElementById("bar").style.width = pct+"%";
  document.getElementById("pointsLabel").textContent = state.points;
  document.getElementById("maxLabel").textContent = TOTAL_ITEMS;
  document.getElementById("idxLabel").textContent = Math.min(state.idx+1, TOTAL_ITEMS);
  document.getElementById("totalLabel").textContent = TOTAL_ITEMS;
}

function render(){
  const it = items[state.idx];
  document.getElementById("title").innerHTML = `${state.idx+1}. ${it.title} ${it.transfer ? '<span class="badge">ðŸ§  TRANSFER</span>' : ""}`;
  const wrap = document.getElementById("options");
  const fb = document.getElementById("feedback");
  document.getElementById("question").innerHTML = it.question;
  wrap.innerHTML = ""; fb.textContent=""; fb.className="fb";

  const nextBtn = document.getElementById("nextBtn");
  nextBtn.disabled = true;
  document.getElementById("prevBtn").disabled = (state.idx===0);

  if(it.type==="mc"){
    it.options.forEach((opt,i)=>{
      const row = document.createElement("label");
      row.className="opt";
      const inp = document.createElement("input"); inp.type="radio"; inp.name=it.id; inp.value=i;
      const span = document.createElement("span"); span.innerHTML = opt;
      row.appendChild(inp); row.appendChild(span);
      row.addEventListener("click", ()=>{
        const correct = (i===it.correct);
        row.classList.add(correct? "correct":"incorrect");
        fb.textContent = it.feedback[i];
        fb.className = "fb " + (correct? "ok":"bad");
        Array.from(wrap.querySelectorAll("label.opt input")).forEach(el=>el.disabled=true);
        if(!(it.id in state.done)){
          state.points += correct ? 1 : 0;
          state.done[it.id] = correct? "full":"none";
          save();
        }
        nextBtn.disabled = false;
        setHeader();
      });
      wrap.appendChild(row);
    });
  }

  if(it.type==="tf"){
    const buttons = document.createElement("div"); buttons.style.display="flex"; buttons.style.gap="10px";
    const bT = document.createElement("button"); bT.textContent="Stimmt";
    const bF = document.createElement("button"); bF.textContent="Stimmt nicht"; bF.className="secondary";
    const st = document.createElement("div"); st.className="subtitle"; st.innerHTML = it.question;
    document.getElementById("question").innerHTML = ""; document.getElementById("question").appendChild(st);
    [bT,bF].forEach(btn=>{
      btn.addEventListener("click", ()=>{
        const isTrue = btn===bT; const correct = (isTrue===it.correct);
        fb.textContent = correct? it.feedbackTrue : it.feedbackFalse;
        fb.className = "fb " + (correct? "ok":"bad");
        bT.disabled = bF.disabled = true;
        if(!(it.id in state.done)){
          state.points += correct ? 1 : 0;
          state.done[it.id] = correct? "full":"none";
          save();
        }
        nextBtn.disabled = false;
        setHeader();
      });
    });
    buttons.appendChild(bT); buttons.appendChild(bF);
    wrap.appendChild(buttons);
  }
  setHeader();
}

document.getElementById("nextBtn").addEventListener("click", ()=>{
  if(state.idx < TOTAL_ITEMS-1){ state.idx++; save(); render(); }
  else {
    alert(`Geschafft! Punkte: ${state.points} von ${TOTAL_ITEMS}. Du hast alle ${TOTAL_ITEMS} Aufgaben abgeschlossen.`);
  }
});
document.getElementById("prevBtn").addEventListener("click", ()=>{
  if(state.idx>0){ state.idx--; save(); render(); }
});

document.getElementById("resetBtn").addEventListener("click", ()=>{
  if(confirm("Fortschritt wirklich lÃ¶schen und neu starten?")){
    localStorage.removeItem(LS_KEY);
    state = { idx:0, points:0, done:{} };
    save();
    render();
    alert("ZurÃ¼ckgesetzt. Viel Erfolg beim neuen Durchlauf!");
  }
});

render();
</script>
</body>
</html>
